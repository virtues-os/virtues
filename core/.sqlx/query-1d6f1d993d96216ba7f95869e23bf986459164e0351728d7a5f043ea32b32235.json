{
  "db_name": "PostgreSQL",
  "query": "\n        INSERT INTO data.location_visit (\n            id,\n            place_id,\n            centroid_coordinates,\n            latitude,\n            longitude,\n            start_time,\n            end_time,\n            source_stream_id,\n            source_table,\n            source_provider,\n            metadata\n        ) VALUES (\n            $1, $2, ST_GeogFromText($3), $4, $5, $6, $7, $8, $9, $10, $11\n        )\n        ON CONFLICT (id) DO UPDATE SET\n            place_id = EXCLUDED.place_id,\n            end_time = EXCLUDED.end_time,\n            centroid_coordinates = EXCLUDED.centroid_coordinates,\n            latitude = EXCLUDED.latitude,\n            longitude = EXCLUDED.longitude,\n            metadata = EXCLUDED.metadata,\n            updated_at = NOW()\n        WHERE data.location_visit.end_time < EXCLUDED.end_time\n           OR data.location_visit.place_id IS NULL\n        ",
  "describe": {
    "columns": [],
    "parameters": {
      "Left": [
        "Uuid",
        "Uuid",
        "Text",
        "Float8",
        "Float8",
        "Timestamptz",
        "Timestamptz",
        "Uuid",
        "Text",
        "Text",
        "Jsonb"
      ]
    },
    "nullable": []
  },
  "hash": "1d6f1d993d96216ba7f95869e23bf986459164e0351728d7a5f043ea32b32235"
}
